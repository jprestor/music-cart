{"version":3,"sources":["components/page-header/page-header.js","components/page-header/index.js","components/page-footer/index.js","components/page-footer/page-footer.js","components/pages/home-page.js","services/login-service.js","actions/index.js","components/lastfm-service-context/lastfm-service-context.js","components/hoc/with-lastfm-service.js","components/row/index.js","components/row/row.js","components/item-list-item/index.js","components/item-list-item/item-list-item.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/items-list/item-list.js","components/items-list/index.js","components/item-details/index.js","components/item-details/item-details.js","components/pages/top-singles-page.js","components/pages/top-albums-page.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/cart-page.js","components/pages/login-page.js","components/pages/account-page.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","reducers/login.js","reducers/item-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js","services/lastfm-service.js"],"names":["CartItemsCounter","count","classNames","className","PageHeader","connect","shoppingCart","totalCount","Link","to","PageFooter","HomePage","LoginService","email","password","errorMessage","callApi","Promise","resolve","reject","setTimeout","Error","itemAddedToCart","id","type","payload","fetchData","getData","dispatch","then","data","catch","error","fetchDataFailure","React","createContext","LastfmServiceProvider","Provider","LastfmServiceConsumer","Consumer","withLastfmService","Wrapped","props","lastfmService","Row","left","right","ItemListItem","item","onAddedToCart","onShowInfo","artist","title","imageSmall","src","onClick","Spinner","ErrorIndicator","ItemList","items","map","key","loading","useEffect","ItemDetails","itemsList","useState","setItem","find","i","category","playcount","text","imageBig","price","alt","SinglesList","compose","filter","bindActionCreators","getSingles","withRouter","history","match","params","push","AlbumsList","getAlbums","ItemsList","mapDispatchToProps","onDecrease","onIncrease","onDelete","ShoppingCartTable","cartItems","total","orderTotal","idx","CartPage","LoginPage","state","onSubmit","e","preventDefault","login","setState","this","loginSuccess","pending","loginError","Redirect","name","onChange","target","value","message","Component","success","setLoginError","App","Switch","Route","path","component","exact","TopAlbumsPage","TopSinglesPage","AccountPage","render","ErrorBoundry","hasError","children","updateLogin","action","undefined","updateItemsArray","arr","newArr","forEach","updateItemsList","updateOrder","itemId","quantity","cartItemIndex","findIndex","newCartitems","cartItem","slice","updateCartItems","updateCartItem","updateShoppingCart","reducer","store","createStore","applyMiddleware","thunkMiddleware","next","console","log","_apiKey","_getUrl","apiMethod","getResource","url","a","fetch","res","ok","status","json","tracks","track","_transformSingle","topalbums","album","_transformAlbum","_extractImage","obj","isBigSize","image","imageObj","length","_dummyText","single","Math","floor","random","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9e43fcb0.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './page-header.css';\r\n\r\nconst CartItemsCounter = ({ count }) => {\r\n  let classNames = 'cart-items-counter';\r\n  if (count) {\r\n    classNames += ' active';\r\n  }\r\n\r\n  return <span className={classNames}>{count || ''}</span>;\r\n};\r\n\r\nconst PageHeader = ({ count }) => {\r\n  return (\r\n    <header className=\"page-header  navbar-light  bg-light\">\r\n      <div className=\"container\">\r\n        <ul className=\"nav\">\r\n          <li className=\"nav-item\">\r\n            <Link className=\"navbar-brand  nav-link\" to=\"/\">\r\n              MusicCart\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link className=\"nav-link\" to=\"/top-albums/\">\r\n              Top albums\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link className=\"nav-link\" to=\"/top-singles/\">\r\n              Top singles\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item  nav-item--cart\">\r\n            <Link className=\"nav-link\" to=\"/cart/\">\r\n              Cart <CartItemsCounter count={count} />\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link className=\"nav-link\" to=\"/login/\">\r\n              Login\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link className=\"nav-link\" to=\"/account/\">\r\n              Account\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ shoppingCart: { totalCount } }) => {\r\n  return {\r\n    count: totalCount,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(PageHeader);\r\n","import PageHeader from './page-header';\r\n\r\nexport default PageHeader;\r\n","import PageFooter from './page-footer';\r\n\r\nexport default PageFooter;\r\n","import React from 'react';\r\n\r\nimport './page-footer.css';\r\n\r\nconst PageFooter = () => {\r\n  return (\r\n    <footer className=\"page-footer  container\">\r\n      <section className=\"copyrights\"></section>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default PageFooter;\r\n","import React, { Fragment } from 'react';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"home-page-title\">\r\n        Welcome to <i>MusicCart</i>!\r\n        <br /> <span>Top place to buy music</span>\r\n      </h1>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","export default class LoginService {\r\n  email = 'admin@example.com';\r\n  password = 'admin';\r\n  errorMessage = 'Invalid email and password';\r\n\r\n  callApi = (email, password) => {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        if (email === this.email && password === this.password) {\r\n          resolve();\r\n        } else {\r\n          reject(new Error(this.errorMessage));\r\n        }\r\n      }, 1000);\r\n    });\r\n  };\r\n}\r\n\r\n// const callLoginApi = (email, password, callback) => {\r\n//   setTimeout(() => {\r\n//     if (email === 'admin@example.com' && password === 'admin') {\r\n//       return callback(null);\r\n//     } else {\r\n//       return callback(new Error('Invalid email and password'));\r\n//     }\r\n//   }, 1000);\r\n// };\r\n\r\n// export default callLoginApi;\r\n ","import callLoginApi from '../services/login-service';\r\n\r\nconst setLoginSuccess = () => {\r\n  return 'SET_LOGIN_SUCCESS';\r\n};\r\n\r\nconst setLoginPending = () => {\r\n  return 'SET_LOGIN_PENDING';\r\n};\r\n\r\nconst setLoginError = (error) => {\r\n  return {\r\n    type: 'SET_LOGIN_ERROR',\r\n    payload: error,\r\n  };\r\n};\r\n\r\nconst fetchItemsSuccess = (newItems) => {\r\n  return {\r\n    type: 'FETCH_ITEMS_SUCCESS',\r\n    payload: newItems,\r\n  };\r\n};\r\n\r\nconst fetchDataRequest = () => {\r\n  return 'FETCH_DATA_REQUEST';\r\n};\r\n\r\nconst fetchDataFailure = (error) => {\r\n  return {\r\n    type: 'FETCH_DATA_FAILURE',\r\n    payload: error,\r\n  };\r\n};\r\n\r\nconst itemAddedToCart = (id) => {\r\n  return {\r\n    type: 'ITEM_ADDED_TO_CART',\r\n    payload: id,\r\n  };\r\n};\r\n\r\nconst itemDecreasedInCart = (id) => {\r\n  return {\r\n    type: 'ITEM_DECREASED_IN_CART',\r\n    payload: id,\r\n  };\r\n};\r\n\r\nconst itemDeletedFromCart = (id) => {\r\n  return {\r\n    type: 'ITEM_DELETED_FROM_CART',\r\n    payload: id,\r\n  };\r\n};\r\n\r\n// const fetchDataOld = (lastfmService, dispatch) => () => {\r\n//   dispatch(fetchDataRequest());\r\n\r\n//   lastfmService\r\n//     .getSingles()\r\n//     .then((data) => {\r\n//       dispatch(fetchItemsSuccess(data));\r\n//     })\r\n//     .catch((error) => {\r\n//       dispatch(fetchDataFailure(error));\r\n//     });\r\n// };\r\n\r\nconst fetchData = (getData) => () => (dispatch) => {\r\n  dispatch(fetchDataRequest());\r\n\r\n  getData()\r\n    .then((data) => {\r\n      dispatch(fetchItemsSuccess(data));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(fetchDataFailure(error));\r\n    });\r\n};\r\n\r\nconst login = (callApi, email, password) => (dispatch) => {\r\n  dispatch(setLoginPending());\r\n\r\n  callApi(email, password)\r\n    .then(() => {\r\n      dispatch(setLoginSuccess());\r\n    })\r\n    .catch((error) => {\r\n      dispatch(setLoginError(error));\r\n    });\r\n\r\n  // callApi(email, password, (error) => {\r\n  //   if (!error) {\r\n  //     dispatch(setLoginSuccess());\r\n  //   } else {\r\n  //     console.error(error);\r\n  //     dispatch(setLoginError(error));\r\n  //   }\r\n  // });\r\n};\r\n\r\nexport {\r\n  fetchData,\r\n  login,\r\n  itemAddedToCart,\r\n  itemDecreasedInCart,\r\n  itemDeletedFromCart,\r\n};\r\n","import React from 'react';\n\nconst {\n  Provider: LastfmServiceProvider,\n  Consumer: LastfmServiceConsumer\n} = React.createContext();\n\nexport { LastfmServiceProvider, LastfmServiceConsumer };\n","import React from 'react';\nimport { LastfmServiceConsumer } from '../lastfm-service-context';\n\nconst withLastfmService = () => (Wrapped) => {\n  return (props) => {\n    return (\n      <LastfmServiceConsumer>\n        {(lastfmService) => {\n          return <Wrapped {...props} lastfmService={lastfmService} />;\n        }}\n      </LastfmServiceConsumer>\n    );\n  };\n};\n\nexport default withLastfmService;\n","import Row from './row';\n\nexport default Row;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './row.css';\n\nconst Row = ({ left, right }) => {\n  return (\n    <div className=\"row mb2\">\n      <div className=\"col-md-6\">\n        {left}\n      </div>\n      <div className=\"col-md-6\">\n        {right}\n      </div>\n    </div>\n  );\n};\n\nRow.propTypes = {\n  left: PropTypes.node,\n  right: PropTypes.node\n};\n\nexport default Row;\n","import ItemListItem from './item-list-item';\r\n\r\nexport default ItemListItem;\r\n","import React, { Fragment } from 'react';\r\n\r\nconst ItemListItem = ({ item, onAddedToCart, onShowInfo }) => {\r\n  const { artist, title, imageSmall } = item;\r\n\r\n  return (\r\n    <Fragment>\r\n      <img className=\"item-image\" src={imageSmall} />\r\n\r\n      <div className=\"item-details\">\r\n        <p>\r\n          <b className=\"item-title\">{title}</b>\r\n          <span> - </span>\r\n          <span className=\"item-artist\">{artist}</span>\r\n        </p>\r\n\r\n        <div className=\"item-buttons\">\r\n          <button className=\"btn btn-info\" onClick={onShowInfo}>\r\n            Show info\r\n          </button>\r\n          <button className=\"btn btn-danger\" onClick={onAddedToCart}>\r\n            Add to cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ItemListItem;\r\n","import Spinner from './spinner';\n\nexport default Spinner;\n","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => {\n  return <div>loading...</div>;\n};\n\nexport default Spinner;\n","import ErrorIndicator from \"./error-indicator\";\r\n\r\nexport default ErrorIndicator;\r\n","import React from 'react';\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = ({error}) => {\r\n  return (\r\n    <div className=\"error-box\">\r\n      <h4>Something wrong!</h4>\r\n      <p>However, we caught the case.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","import React, { useEffect } from 'react';\r\nimport ItemListItem from '../item-list-item';\r\n\r\nimport './item-list.css';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nconst ItemList = ({ items, onShowInfo, onAddedToCart }) => {\r\n  // Презентационный компонент. Отвечает за отрисовку\r\n  return (\r\n    <ul className=\"item-list\">\r\n      {items.map((item) => {\r\n        const { id } = item;\r\n\r\n        return (\r\n          <li className=\"item-list-item\" key={id}>\r\n            <ItemListItem\r\n              item={item}\r\n              onShowInfo={() => onShowInfo(id)}\r\n              onAddedToCart={() => onAddedToCart(id)}\r\n            ></ItemListItem>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nconst ItemListContainer = (props) => {\r\n  // Компонент-контейнер. Отвечает за поведение\r\n  const { items, loading, error, onAddedToCart, onShowInfo, fetchData } = props;\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorIndicator />;\r\n  }\r\n\r\n  return (\r\n    <ItemList\r\n      onShowInfo={onShowInfo}\r\n      onAddedToCart={onAddedToCart}\r\n      items={items}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ItemListContainer;\r\n","import ItemList from './item-list';\r\n\r\nexport default ItemList;\r\n","import ItemDetails from './item-details';\r\n\r\nexport default ItemDetails;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './item-details.css';\r\n\r\nconst ItemDetails = ({ items, id }) => {\r\n  const [item, setItem] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const item = items.find((i) => i.id === id);\r\n    setItem(item);\r\n  }, [id, items]);\r\n\r\n  if (!item) {\r\n    return <div></div>;\r\n  }\r\n\r\n  const { category, artist, title, playcount, text, imageBig, price } = item;\r\n\r\n  return (\r\n    <div className=\"item-details\">\r\n      <img src={imageBig} alt=\"\" />\r\n      <p>\r\n        <b>Artist: </b>\r\n        {artist}\r\n      </p>\r\n      <p>\r\n        <b>{category}: </b>\r\n        {title}\r\n      </p>\r\n      <p>\r\n        <b>Price: </b>${price}\r\n      </p>\r\n      <p>\r\n        <b>Playcount: </b>\r\n        {playcount}\r\n      </p>\r\n      <p>\r\n        <b>Info: </b>\r\n        {text}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\n// const AlbumsDetails = () => {\r\n//   return (\r\n\r\n//   );\r\n// };\r\n\r\nconst mapStateToProps = ({ itemsList: { items } }) => {\r\n  return {\r\n    items,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ItemDetails);\r\n","import React, { Fragment } from 'react';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchData, itemAddedToCart } from '../../actions';\r\nimport { withLastfmService } from '../hoc';\r\n\r\nimport Row from '../row';\r\nimport ItemList from '../items-list';\r\nimport ItemDetails from '../item-details';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst mapStateToProps = ({ itemsList: { items, loading, error } }) => {\r\n  items = items.filter((i) => i.category === 'single');\r\n\r\n  return {\r\n    items,\r\n    loading,\r\n    error\r\n  };\r\n};\r\n\r\n// const mapDispatchToProps = {\r\n//   topArtistsLoaded,\r\n//   dataRequested,\r\n//   dataFetchError\r\n// };\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return bindActionCreators({ topArtistsLoaded }, dispatch);\r\n// };\r\n\r\n// const mapDispatchToProps = (dispatch, { lastfmService }) => {\r\n//   return {\r\n//     fetchData: fetchData(lastfmService, dispatch),\r\n//     onAddedToCart: (id) => dispatch(itemAddedToCart(id))\r\n//   };\r\n// };\r\n\r\nconst mapDispatchToProps = (dispatch, { lastfmService }) => {\r\n  return bindActionCreators(\r\n    {\r\n      fetchData: fetchData(lastfmService.getSingles),\r\n      onAddedToCart: itemAddedToCart // Благодаря Thunk мы можем передать в dispatch функцию в качестве действия\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nconst SinglesList = compose(\r\n  withLastfmService(),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(ItemList);\r\n\r\nconst TopSinglesPage = ({ history, match }) => {\r\n  const { id } = match.params;\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1>Top Singles Catalog</h1>\r\n      <Row\r\n        left={<SinglesList onShowInfo={(id) => history.push(id)} />}\r\n        right={<ItemDetails id={id} />}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default withRouter(TopSinglesPage);\r\n","import React, { Fragment } from 'react';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchData, itemAddedToCart } from '../../actions';\r\nimport { withLastfmService } from '../hoc';\r\n\r\nimport Row from '../row';\r\nimport ItemsList from '../items-list';\r\nimport ItemDetails from '../item-details';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst mapStateToProps = ({ itemsList: { items, loading, error } }) => {\r\n  items = items.filter((i) => i.category === 'album');\r\n\r\n  return {\r\n    items,\r\n    loading,\r\n    error,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, { lastfmService }) => {\r\n  return bindActionCreators(\r\n    {\r\n      fetchData: fetchData(lastfmService.getAlbums),\r\n      onAddedToCart: itemAddedToCart, // Благодаря Thunk мы можем передать в dispatch функцию в качестве действия\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nconst AlbumsList = compose(\r\n  withLastfmService(),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(ItemsList);\r\n\r\nconst TopAlbumsPage = ({ history, match }) => {\r\n  const { id } = match.params;\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1>Top Albums Catalog</h1>\r\n      <Row\r\n        left={<AlbumsList onShowInfo={(id) => history.push(id)} />}\r\n        right={<ItemDetails id={id} />}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default withRouter(TopAlbumsPage);\r\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  itemAddedToCart,\n  itemDecreasedInCart,\n  itemDeletedFromCart\n} from '../../actions';\n\nimport './shopping-cart-table.css';\n\nconst ShoppingCartTable = ({\n  items,\n  total,\n  onIncrease,\n  onDecrease,\n  onDelete\n}) => {\n  const renderRow = (item, idx) => {\n    const { id, artist, title, category, count, total } = item;\n\n    return (\n      <tr id={id} key={id}>\n        <td>{idx + 1}</td>\n        <td>{`${title} - ${artist} {{${category}}}`}</td>\n        <td>{count}</td>\n        <td>${total}</td>\n        <td>\n          <button\n            onClick={() => onDelete(id)}\n            className=\"btn btn-outline-danger btn-sm float-right\"\n          >\n            Delete All\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n          <button\n            onClick={() => onIncrease(id)}\n            className=\"btn btn-outline-success btn-sm float-right\"\n          >\n            Add\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button\n            onClick={() => onDecrease(id)}\n            className=\"btn btn-outline-warning btn-sm float-right\"\n          >\n            Remove\n            <i className=\"fa fa-trash-o\" />\n          </button>\n        </td>\n      </tr>\n    );\n  };\n\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Item</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n\n        <tbody>{items.map(renderRow)}</tbody>\n      </table>\n\n      <div className=\"total\">Total: ${total}</div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal } }) => {\n  return {\n    items: cartItems,\n    total: orderTotal\n  };\n};\n\nconst mapDispatchToProps = {\n  onDecrease: itemDecreasedInCart,\n  onIncrease: itemAddedToCart,\n  onDelete: itemDeletedFromCart\n};\n\n// const mapDispatchToProps = () => {\n//   return {\n//     onDecrease: (id) => {\n//       itemDecreasedInCart(id);\n//     },\n//     onIncrease: (id) => {\n//       itemIncreasedInCart(id);\n//     },\n//     onDelete: (id) => {\n//       itemDeletedFromCart(id);\n//     }\n//   };\n// };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\n","import ShoppingCartTable from './shopping-cart-table';\n\nexport default ShoppingCartTable;\n","import React, { Fragment } from 'react';\r\nimport ShoppingCartTable from '../shopping-cart-table';\r\n\r\nconst CartPage = () => {\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"\">Cart</h1>\r\n      <ShoppingCartTable />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { login } from '../../actions';\n\nimport Spinner from '../spinner';\nimport LoginService from '../../services/login-service';\nimport { bindActionCreators } from 'redux';\n\nclass LoginPage extends Component {\n  state = {\n    email: '',\n    password: '',\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { login } = this.props;\n    const { email, password } = this.state;\n\n    login(email, password);\n    this.setState({\n      email: '',\n      password: '',\n    });\n  };\n\n  render() {\n    const { email, password } = this.state;\n    const { loginSuccess, pending, loginError } = this.props;\n\n    if (loginSuccess) {\n      return <Redirect to=\"/account/\" />;\n    }\n\n    return (\n      <div className=\"jumbotron\">\n        <h1>Login</h1>\n\n        <form name=\"loginForm\" onSubmit={this.onSubmit}>\n          <div className=\"form-group-collection\">\n            <div className=\"form-group\">\n              <label>Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                onChange={(e) => this.setState({ email: e.target.value })}\n                value={email}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                onChange={(e) => this.setState({ password: e.target.value })}\n                value={password}\n              />\n            </div>\n          </div>\n\n          <input type=\"submit\" value=\"Login\" />\n\n          {pending && <Spinner />}\n          {loginError && <div>{loginError.message}</div>}\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ login }) => {\n  return {\n    pending: login.pending,\n    loginSuccess: login.success,\n    loginError: login.error,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  const { callApi } = new LoginService();\n\n  return bindActionCreators(\n    {\n      login: (email, password) => login(callApi, email, password),\n    },\n    dispatch\n  );\n};\n\n// const mapDispatchToProps = (dispatch) => {\n//   return bindActionCreators({ login }, dispatch);\n// };\n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     login: (email, password) => dispatch(login(email, password))\n//   };\n// };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst AccountPage = ({ loginSuccess }) => {\n  if (loginSuccess) {\n    return (\n      <div className=\"jumbotron\">\n        <h1 className=\"mb-5\">Account page</h1>\n        <h4>This page is full of secrets!!!</h4>\n      </div>\n    );\n  }\n\n  return <Redirect to=\"/login\" />;\n};\n\nconst mapStateToProps = ({ login }) => {\n  return {\n    loginSuccess: login.success,\n  };\n};\n\nexport default connect(mapStateToProps)(AccountPage);\n","import App from './app';\r\n\r\nexport default App;\r\n","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport PageHeader from '../page-header';\r\nimport PageFooter from '../page-footer';\r\nimport {\r\n  HomePage,\r\n  TopSinglesPage,\r\n  TopAlbumsPage,\r\n  CartPage,\r\n  LoginPage,\r\n  AccountPage\r\n} from '../pages';\r\n\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Fragment>\r\n      <PageHeader />\r\n\r\n      <main className=\"page-main  container\">\r\n        <Switch>\r\n          <Route path=\"/\" component={HomePage} exact />\r\n          <Route path=\"/top-albums/:id?\" component={TopAlbumsPage} />\r\n          <Route path=\"/top-singles/:id?\" component={TopSinglesPage} />\r\n          <Route path=\"/cart/\" component={CartPage} />\r\n          <Route path=\"/login/\" component={LoginPage} />\r\n          <Route path=\"/account/\" component={AccountPage} />\r\n\r\n          <Route render={() => <h2>Page not found</h2>} />\r\n        </Switch>\r\n      </main>\r\n\r\n      <PageFooter />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}","const updateLogin = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      success: false,\r\n      pending: false,\r\n      error: null,\r\n    };\r\n  }\r\n\r\n  switch (action.type) {\r\n    case 'SET_LOGIN_PENDING':\r\n      return {\r\n        success: false,\r\n        pending: true,\r\n        error: null,\r\n      };\r\n\r\n    case 'SET_LOGIN_SUCCESS':\r\n      return {\r\n        success: true,\r\n        pending: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'SET_LOGIN_ERROR':\r\n      \r\n      return {\r\n        success: false,\r\n        pending: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state.login;\r\n  }\r\n};\r\n\r\nexport default updateLogin;\r\n","const updateItemsArray = (arr, newArr) => {\r\n  if (newArr) {\r\n    arr.forEach((item) => {\r\n      newArr = newArr.filter((i) => i.id !== item.id);\r\n    });\r\n\r\n    return [...arr, ...newArr];\r\n  }\r\n\r\n  return arr;\r\n};\r\n\r\nconst updateItemsList = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      items: [],\r\n      loading: true,\r\n      error: null,\r\n    };\r\n  }\r\n\r\n  const items = state.itemsList ? state.itemsList.items : [];\r\n\r\n  switch (action.type) {\r\n    case 'FETCH_DATA_REQUEST':\r\n      return {\r\n        items: updateItemsArray(items),\r\n        loading: true,\r\n        error: null,\r\n      };\r\n\r\n    case 'FETCH_ITEMS_SUCCESS':\r\n      return {\r\n        items: updateItemsArray(items, action.payload),\r\n        loading: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'FETCH_DATA_FAILURE':\r\n      return {\r\n        items: [],\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state.itemsList;\r\n  }\r\n};\r\n\r\nexport default updateItemsList;\r\n","const updateCartItem = (item, cartItem = {}, quantity = 1) => {\r\n  const {\r\n    id = item.id,\r\n    category = item.category,\r\n    title = item.title,\r\n    artist = item.artist,\r\n    count = 0,\r\n    total = 0\r\n  } = cartItem;\r\n\r\n  return {\r\n    id,\r\n    category,\r\n    title,\r\n    artist,\r\n    count: count + quantity,\r\n    total: total + quantity * item.price\r\n  };\r\n};\r\n\r\nconst updateCartItems = (cartItems, cartItem, idx) => {\r\n  if (cartItem.count === 0) {\r\n    return [...cartItems.slice(0, idx), ...cartItems.slice(idx + 1)];\r\n  }\r\n\r\n  if (idx === -1) {\r\n    return [...cartItems, cartItem];\r\n  } else {\r\n    return [...cartItems.slice(0, idx), cartItem, ...cartItems.slice(idx + 1)];\r\n  }\r\n};\r\n\r\nconst updateOrder = (state, itemId, quantity) => {\r\n  const {\r\n    itemsList: { items },\r\n    shoppingCart: { cartItems }\r\n  } = state;\r\n\r\n  const item = items.find((item) => item.id === itemId);\r\n  const cartItemIndex = cartItems.findIndex(({ id }) => id === itemId);\r\n  const cartItem = cartItems[cartItemIndex];\r\n\r\n  const newCartItem = updateCartItem(item, cartItem, quantity);\r\n  const newCartitems = updateCartItems(cartItems, newCartItem, cartItemIndex);\r\n\r\n  let totalCount = 0;\r\n  let orderTotal = 0;\r\n  newCartitems.forEach((i) => {\r\n    totalCount += i.count;\r\n    orderTotal += i.total;\r\n  });\r\n\r\n  return {\r\n    cartItems: newCartitems,\r\n    totalCount,\r\n    orderTotal\r\n  };\r\n};\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      cartItems: [],\r\n      totalCount: 0,\r\n      orderTotal: 0\r\n    };\r\n  }\r\n\r\n  switch (action.type) {\r\n    case 'ITEM_ADDED_TO_CART':\r\n      return updateOrder(state, action.payload);\r\n\r\n    case 'ITEM_DECREASED_IN_CART':\r\n      return updateOrder(state, action.payload, -1);\r\n\r\n    case 'ITEM_DELETED_FROM_CART':\r\n      const item = state.shoppingCart.cartItems.find(\r\n        ({ id }) => id === action.payload\r\n      );\r\n\r\n      return updateOrder(state, action.payload, -item.count);\r\n\r\n    default:\r\n      return state.shoppingCart;\r\n  }\r\n};\r\n\r\nexport default updateShoppingCart;\r\n","import updateLogin from './login';\r\nimport updateItemsList from './item-list';\r\nimport updateShoppingCart from './shopping-cart';\r\n\r\nconst reducer = (state, action) => {\r\n  return {\r\n    login: updateLogin(state, action),\r\n    itemsList: updateItemsList(state, action),\r\n    shoppingCart: updateShoppingCart(state, action)\r\n  };\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nimport reducer from './reducers';\r\n\r\n// Примеры Middleware\r\nconst stringMiddleware = (/*{ dispatch, getState }*/) => (next) => (action) => {\r\n  if (typeof action === 'string') {\r\n    return next({ type: action });\r\n  }\r\n\r\n  return next(action);\r\n};\r\n\r\nconst logMiddleware = () => (next) => (action) => {\r\n  console.log(action.type);\r\n  return next(action);\r\n};\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  applyMiddleware(thunkMiddleware, stringMiddleware, logMiddleware)\r\n);\r\n\r\n// Пример использования thunkMiddleware\r\n// const delayedActionCreator = (timeout) => (dispatch) => {\r\n//   setTimeout(\r\n//     () =>\r\n//       dispatch({\r\n//         type: 'DELAYED_ACTION'\r\n//       }),\r\n//     timeout\r\n//   );\r\n// };\r\n\r\n// store.dispatch(delayedActionCreator(2000));\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport LastfmService from './services/lastfm-service';\nimport { LastfmServiceProvider } from './components/lastfm-service-context';\n\nimport store from './store';\n\nconst lastfmService = new LastfmService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <LastfmServiceProvider value={lastfmService}>\n        <Router>\n          <App />\n        </Router>\n      </LastfmServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","export default class LastfmService {\r\n  _apiKey = `58a12fdc7d2606d49f7abdabae85de78`;\r\n\r\n  _getUrl = (apiMethod, id) => {\r\n    return `http://ws.audioscrobbler.com/2.0/?method=${apiMethod}&api_key=${this._apiKey}&format=json&limit=10`;\r\n  };\r\n\r\n  getResource = async (url) => {\r\n    const res = await fetch(url);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}, received ${res.status}`);\r\n    }\r\n    return res.json();\r\n  };\r\n\r\n  getSingles = async () => {\r\n    const method = 'chart.getTopTracks';\r\n\r\n    const res = await this.getResource(this._getUrl(method));\r\n    return res.tracks.track.map(this._transformSingle);\r\n  };\r\n\r\n  getAlbums = async () => {\r\n    const method = 'user.gettopalbums&user=rj';\r\n\r\n    const res = await this.getResource(this._getUrl(method));\r\n    return res.topalbums.album.map(this._transformAlbum);\r\n  };\r\n\r\n  // Mapping\r\n  _extractImage = (obj, isBigSize) => {\r\n    const imageObj = obj.image[isBigSize ? 3 : 1];\r\n    let image;\r\n    for (let key in imageObj) {\r\n      if (imageObj[key].length > 10) {\r\n        image = imageObj[key];\r\n      }\r\n    }\r\n\r\n    return image;\r\n  };\r\n\r\n  _dummyText = `Light unto very they're were of. Hath saying god seasons be. Day creeping earth let. Them created face for from. Behold seed had don't is days that winged created blessed of life image one i.`;\r\n\r\n  _transformSingle = (single) => {\r\n    return {\r\n      id: single.playcount, // mbid есть не у всех\r\n      category: 'single',\r\n      artist: single.artist.name,\r\n      title: single.name,\r\n      playcount: single.playcount,\r\n      text: this._dummyText,\r\n      imageSmall: this._extractImage(single),\r\n      imageBig: this._extractImage(single, true),\r\n      price: Math.floor(Math.random() * 50) + 1,\r\n    };\r\n  };\r\n\r\n  _transformAlbum = (album) => {\r\n    return {\r\n      id: album.playcount, // mbid есть не у всех\r\n      category: 'album',\r\n      artist: album.artist.name,\r\n      title: album.name,\r\n      playcount: album.playcount,\r\n      text: this._dummyText,\r\n      imageSmall: this._extractImage(album),\r\n      imageBig: this._extractImage(album, true),\r\n      price: Math.floor(Math.random() * 50) + 51,\r\n    };\r\n  };\r\n\r\n  // getArtistInfo = async id => {\r\n  //   const method = \"artist.getInfo\";\r\n  //   const url = `${this._getUrl(method)}&mbid=${id}`;\r\n\r\n  //   const res = await this.getResource(url);\r\n  //   return this._transformArtist;\r\n  // };\r\n}\r\n"],"sourceRoot":""}